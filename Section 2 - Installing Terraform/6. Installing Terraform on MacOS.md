# Installing Terraform on macOS

## Overview

This lesson demonstrates how to install the Terraform CLI (Command-Line Interface) on macOS using two methods: Homebrew package manager and manual binary installation. The installation process ensures Terraform is accessible system-wide via the PATH environment variable.

---

## Concepts

### Terraform CLI

- **Terraform CLI** is the command-line tool used to execute Terraform commands (`init`, `plan`, `apply`, `destroy`, etc.)
- Distributed as a single binary executable
- Available for multiple operating systems (macOS, Windows, Linux, FreeBSD, OpenBSD, Solaris)

### Installation Methods

1. **Package Manager (Homebrew)** — Automated installation and updates
2. **Manual Binary Download** — Direct download from HashiCorp releases, requires manual PATH configuration

### Binary Distribution

- Official binaries hosted at `releases.hashicorp.com`
- Architecture-specific builds:
  - **AMD64** — Intel-based Macs
  - **ARM64** — Apple Silicon (M1/M2/M3) Macs

---

## Installation Procedures

### Method 1: Homebrew Installation (Recommended)

#### Step 1: Add HashiCorp Tap

```bash
brew tap hashicorp/tap
```

**Line-by-line Comments:**

```bash
# Add the HashiCorp Homebrew repository to your local Homebrew installation
brew tap hashicorp/tap
```

**Code Walkthrough:**

- `brew tap` adds a third-party repository to Homebrew
- `hashicorp/tap` is the official HashiCorp repository containing Terraform and other HashiCorp tools
- This command updates Homebrew's package index to include HashiCorp products

#### Step 2: Install Terraform

```bash
brew install hashicorp/tap/terraform
```

**Line-by-line Comments:**

```bash
# Install the latest version of Terraform from the HashiCorp tap
brew install hashicorp/tap/terraform
```

**Code Walkthrough:**

- Downloads the latest Terraform binary from `releases.hashicorp.com`
- Installs Terraform to `/opt/homebrew/bin/` (Apple Silicon) or `/usr/local/bin/` (Intel)
- Automatically adds Terraform to the system PATH
- Homebrew manages updates via `brew upgrade terraform`

#### Step 3: Verify Installation

```bash
terraform version
```

**Line-by-line Comments:**

```bash
# Display the installed Terraform version
terraform version
```

**Expected Output:**

```
Terraform v1.9.4
```

**Code Walkthrough:**

- Confirms Terraform is installed and accessible in PATH
- Displays the installed version (v1.9.4 at time of recording)

---

### Method 2: Manual Binary Installation

#### Step 1: Download Binary

1. Navigate to [terraform.io](https://terraform.io)
2. Click **Download**
3. Select the appropriate binary for your architecture:
   - **darwin_amd64.zip** — Intel Macs
   - **darwin_arm64.zip** — Apple Silicon Macs
4. Alternatively, download directly from `releases.hashicorp.com/terraform/`

#### Step 2: Extract and Place Binary in PATH

```bash
# Check current PATH directories
echo $PATH

# Common PATH directories on macOS:
# /usr/bin
# /usr/sbin
# /usr/local/bin
# /opt/homebrew/bin

# Example: Move Terraform binary to /usr/local/bin
sudo mv terraform /usr/local/bin/
```

**Line-by-line Comments:**

```bash
# Display all directories in the system PATH
echo $PATH

# Move the downloaded Terraform binary to a directory in PATH (requires sudo)
sudo mv terraform /usr/local/bin/
```

**Code Walkthrough:**

- `echo $PATH` displays colon-separated directories where the system searches for executables
- Place the Terraform binary in any PATH directory to make it globally accessible
- `/usr/local/bin` is a standard location for user-installed binaries
- `sudo` is required for system directories

#### Step 3: Verify Installation

```bash
which terraform
terraform version
```

**Line-by-line Comments:**

```bash
# Show the full path to the Terraform executable
which terraform

# Verify Terraform is functional and display version
terraform version
```

**Expected Output:**

```
/usr/local/bin/terraform
Terraform v1.9.4
```

---

## Installation Verification Commands

| Command             | Purpose                             |
| ------------------- | ----------------------------------- |
| `terraform version` | Display installed Terraform version |
| `which terraform`   | Show full path to Terraform binary  |
| `echo $PATH`        | List all directories in system PATH |
| `terraform`         | Display help and available commands |

---

## Key Terms & Definitions

| Term                             | Definition                                                                        |
| -------------------------------- | --------------------------------------------------------------------------------- |
| **CLI (Command-Line Interface)** | Text-based interface for executing Terraform commands                             |
| **Binary**                       | Compiled executable file (Terraform is distributed as a single binary)            |
| **PATH**                         | Environment variable containing directories where the OS searches for executables |
| **Homebrew**                     | Package manager for macOS that automates software installation and updates        |
| **Tap**                          | Third-party repository in Homebrew (e.g., `hashicorp/tap`)                        |
| **darwin**                       | Operating system identifier for macOS in software distributions                   |
| **AMD64**                        | 64-bit x86 architecture (Intel processors)                                        |
| **ARM64**                        | 64-bit ARM architecture (Apple Silicon M1/M2/M3)                                  |

---

## Pitfalls & Best Practices

### Best Practices

- **Use Homebrew for macOS installations** — Simplifies updates and dependency management
- **Verify installation immediately** — Run `terraform version` after installation
- **Check architecture compatibility** — Ensure you download the correct binary (AMD64 vs. ARM64)
- **Keep Terraform updated** — Use `brew upgrade terraform` regularly

### Common Pitfalls

- **Downloading wrong architecture** — Intel Macs require AMD64; Apple Silicon requires ARM64
- **Binary not in PATH** — Manual installations fail if the binary isn't placed in a PATH directory
- **Permission errors** — Use `sudo` when moving binaries to system directories like `/usr/local/bin`
- **Outdated Homebrew** — Run `brew update` before installing Terraform

---

## Common Exam Traps

### Terraform Associate 003 Exam Considerations

1. **Installation is not heavily tested** — The exam focuses on Terraform usage, not installation procedures
2. **Know the official download source** — `releases.hashicorp.com` is the authoritative source for binaries
3. **Understand PATH requirements** — Terraform must be in PATH to run globally
4. **Version awareness** — Be familiar with version checking (`terraform version`) for troubleshooting
5. **Cross-platform knowledge** — Understand that Terraform is OS-agnostic but requires platform-specific binaries

---

## References

- [terraform.io](https://terraform.io) — Official Terraform website
- [releases.hashicorp.com](https://releases.hashicorp.com) — HashiCorp binary distribution site

---

## Updated Information (as of 2025)

- **Terraform v1.9.4 referenced in transcript** — Current stable version as of early 2025 is v1.10.x. Installation procedures remain identical.
- **Homebrew paths updated** — Apple Silicon Macs use `/opt/homebrew/bin/` (shown in transcript); Intel Macs use `/usr/local/bin/`.
- **No deprecated commands** — All commands (`brew tap`, `brew install`, `terraform version`) remain current and recommended.
- **HashiCorp tap syntax unchanged** — `brew install hashicorp/tap/terraform` is the current recommended installation method.
