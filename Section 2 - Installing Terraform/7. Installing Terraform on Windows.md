# Installing Terraform on Windows

## Overview

This lesson demonstrates how to install the Terraform CLI on Windows by downloading the binary executable and configuring the system PATH environment variable. The process ensures Terraform commands are accessible from any directory in PowerShell or Command Prompt.

---

## Concepts

### Terraform Binary on Windows

- Terraform is distributed as a single executable file (`terraform.exe`)
- Must be placed in a directory included in the system PATH environment variable
- No installer package required — manual extraction and PATH configuration

### Windows PATH Environment Variable

- **System PATH** — List of directories where Windows searches for executable files
- Allows commands to run from any location without specifying full file paths
- Configured via System Properties → Environment Variables

### Installation Workflow

1. Download `terraform.exe` from [terraform.io](https://terraform.io)
2. Extract and place binary in a dedicated directory (e.g., `C:\Terraform`)
3. Add directory to system PATH
4. Restart PowerShell/Command Prompt to apply changes

---

## Installation Procedures

### Step 1: Download Terraform Binary

1. Navigate to [terraform.io](https://terraform.io)
2. Click **Download** (top right)
3. Locate **Windows Binary Downloads**
4. Download **AMD64** version (standard for 64-bit Windows)
5. Extract `terraform.exe` from the downloaded ZIP file

---

### Step 2: Create Installation Directory

```powershell
# Create a dedicated directory for Terraform
New-Item -Path "C:\Terraform" -ItemType Directory
```

**Line-by-line Comments:**

```powershell
# Create a new directory at C:\Terraform to store the Terraform binary
New-Item -Path "C:\Terraform" -ItemType Directory
```

**Code Walkthrough:**

- Creates `C:\Terraform` directory to house `terraform.exe`
- Alternative locations: `C:\HashiCorp`, `C:\Program Files\Terraform`, or any user-defined path
- Copy the extracted `terraform.exe` into this directory

---

### Step 3: Verify Binary Exists (Before PATH Configuration)

```powershell
# Navigate to the Terraform directory
cd C:\Terraform

# Attempt to run Terraform (will fail if not in PATH)
terraform version
# Output: terraform : The term 'terraform' is not recognized...

# Run using full executable name (works in current directory)
.\terraform.exe version
# Output: Terraform v1.9.4
```

**Line-by-line Comments:**

```powershell
# Change to the directory containing terraform.exe
cd C:\Terraform

# Try running terraform command (fails because PATH not configured)
terraform version

# Execute terraform.exe directly from current directory (succeeds)
.\terraform.exe version
```

**Code Walkthrough:**

- `terraform version` fails because Windows cannot locate the executable
- `.\terraform.exe version` works because it explicitly references the file in the current directory
- Demonstrates the need for PATH configuration to run Terraform globally

---

### Step 4: Add Directory to System PATH

#### GUI Method (Windows 10/11)

1. **Right-click Start Menu** → Select **System**
2. Click **Advanced system settings** (right sidebar)
3. In System Properties dialog, click **Environment Variables** (bottom)
4. Under **System variables** section, scroll to **Path** → Click **Edit**
5. Click **New** → Enter `C:\Terraform`
6. Click **OK** on all dialogs to save changes

#### PowerShell Method (Administrator Required)

```powershell
# Add C:\Terraform to system PATH permanently
[Environment]::SetEnvironmentVariable("Path", $env:Path + ";C:\Terraform", "Machine")
```

**Line-by-line Comments:**

```powershell
# Append C:\Terraform to the system PATH environment variable (requires admin privileges)
[Environment]::SetEnvironmentVariable("Path", $env:Path + ";C:\Terraform", "Machine")
```

**Code Walkthrough:**

- `[Environment]::SetEnvironmentVariable()` modifies system environment variables
- `$env:Path + ";C:\Terraform"` appends the new directory to existing PATH entries
- `"Machine"` scope applies the change system-wide (requires administrator rights)
- Semicolon (`;`) separates PATH entries on Windows

---

### Step 5: Restart PowerShell and Verify Installation

```powershell
# Close and reopen PowerShell to load updated PATH

# Verify Terraform is accessible from any directory
terraform version
# Output: Terraform v1.9.4

# Check from a different directory (e.g., user home)
cd C:\Users\<YourUsername>
terraform version
# Output: Terraform v1.9.4
```

**Line-by-line Comments:**

```powershell
# Restart PowerShell session to apply PATH changes

# Run terraform version from any directory
terraform version

# Navigate to a different directory and verify global access
cd C:\Users\<YourUsername>
terraform version
```

**Code Walkthrough:**

- PowerShell must be restarted to recognize updated PATH variable
- `terraform version` now works from any directory without `.\terraform.exe` syntax
- Confirms successful PATH configuration

---

## Installation Verification Commands

| Command                 | Purpose                                             |
| ----------------------- | --------------------------------------------------- |
| `terraform version`     | Display installed Terraform version                 |
| `Get-Command terraform` | Show full path to `terraform.exe` (PowerShell)      |
| `where terraform`       | Show full path to `terraform.exe` (Command Prompt)  |
| `$env:Path`             | Display current PATH variable contents (PowerShell) |

---

## Key Terms & Definitions

| Term                          | Definition                                                                 |
| ----------------------------- | -------------------------------------------------------------------------- |
| **terraform.exe**             | Windows executable binary for Terraform CLI                                |
| **PATH Environment Variable** | System variable listing directories where Windows searches for executables |
| **System Variables**          | Environment variables applied system-wide (all users)                      |
| **User Variables**            | Environment variables applied only to the current user account             |
| **PowerShell**                | Windows command-line shell and scripting language                          |
| **AMD64**                     | 64-bit x86 architecture (standard for modern Windows systems)              |

---

## Alternative Installation Locations

### Common Directory Choices

| Directory                    | Use Case                                                                    |
| ---------------------------- | --------------------------------------------------------------------------- |
| `C:\Terraform`               | Simple, dedicated location (used in lesson)                                 |
| `C:\HashiCorp`               | Centralized location for all HashiCorp tools (Vault, Consul, Nomad, Packer) |
| `C:\Program Files\Terraform` | Standard Windows application directory                                      |
| `C:\Users\<Username>\bin`    | User-specific installation (no admin rights required)                       |

### Reusing Existing PATH Directories

If you already have a directory in PATH (e.g., `C:\HashiCorp`), simply place `terraform.exe` there instead of creating a new directory and PATH entry.

```powershell
# Example: Copy terraform.exe to existing PATH directory
Copy-Item "C:\Downloads\terraform.exe" -Destination "C:\HashiCorp\"
```

---

## Pitfalls & Best Practices

### Best Practices

- **Use a dedicated directory** — Avoid placing `terraform.exe` in system directories like `C:\Windows\System32`
- **Centralize HashiCorp tools** — Store all HashiCorp binaries in one directory (e.g., `C:\HashiCorp`)
- **Restart PowerShell after PATH changes** — Environment variable updates require a new shell session
- **Verify installation immediately** — Run `terraform version` after configuration

### Common Pitfalls

- **Forgetting to restart PowerShell** — PATH changes don't apply to existing sessions
- **Using User PATH instead of System PATH** — User PATH only affects the current user account
- **Incorrect PATH syntax** — Ensure semicolons separate entries; avoid trailing backslashes
- **Missing administrator privileges** — Modifying System PATH requires admin rights
- **Placing binary in Downloads folder** — Temporary locations may be cleared; use permanent directories

---

## Common Exam Traps

### Terraform Associate 003 Exam Considerations

1. **Installation is not heavily tested** — Focus on Terraform usage, not OS-specific installation
2. **PATH configuration is OS-specific** — Understand that Windows uses semicolons (`;`), while Linux/macOS use colons (`:`)
3. **Binary naming conventions** — Windows uses `.exe` extension; Linux/macOS do not
4. **Version verification** — `terraform version` is the standard command across all platforms
5. **No package manager required** — Unlike macOS (Homebrew) or Linux (apt/yum), Windows installation is manual by default

---

## References

- [terraform.io](https://terraform.io) — Official Terraform website and download page

---

## Updated Information (as of 2025)

- **Terraform v1.9.4 referenced in transcript** — Current stable version as of early 2025 is v1.10.x. Installation procedures remain identical.
- **Windows 10 GUI shown** — Windows 11 uses the same Environment Variables interface; steps are unchanged.
- **Chocolatey package manager** — Mentioned in transcript but not demonstrated. Current installation command: `choco install terraform` (alternative to manual installation).
- **PowerShell PATH modification** — The `[Environment]::SetEnvironmentVariable()` method remains the current recommended approach for scripted installations.
- **No deprecated commands** — All commands (`terraform version`, PATH configuration) remain current and recommended.
